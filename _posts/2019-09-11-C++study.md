---
layout: post
title: 《C++ Primer Plus》学习笔记（一）
data: 2019-09-11
Author: Windsrain
categories:
tags: [C++]
comments: true
toc: true
---

## 第1章 预备知识

## 第2章 开始学习C++

### 2.1 进入C++

首先用一个显示消息的C++程序介绍C++的基本功能。C++对大小写敏感，即区分大写字符和小写字符。

``` c++
#include <iostream>
int main ()
{
    using namespace std;
    cout << "Come up and C++ me some time."	//output
    cout << endl;
    
    return 0;
}
```

运行程序后会显示引号里面的内容。

**C语言输入和输出**

C++能够使用printf()、scanf()和其他所有标准C输入和输出函数，只需要包含常规C语言的stdio.h文件。C++的输入工具在C版本的基础上作了很多改进。

上面示例程序包含下列元素：

* 注释，由前缀//标识。
* 预处理器编译指令#include。
* 函数头：int main()。
* 编译指令：using namespace。
* 函数体：用{}括起。
* 使用cout工具显示消息的语句。
* 结束main()函数的return语句。

#### 2.1.1 main()函数

上文程序的基本结构如下：

```C++
int main()
{
    statements
    
    return 0;
}
```

这几行表明有一个名为main()的函数，并描述了该函数的行为。这几行代码构成了函数定义，有函数头和函数体组成。最后一条语句叫做返回语句，它结束该函数。

1. 作为接口的函数头

2. main()不能使用其他名称、

在运行C++程序时，通常从main()函数开始执行，如果没有main()，程序将不完整。

存在一些例外情况。在Windows编程中，可以编写一个动态链接库（DLL）模块，由于它不是独立的程序，因此不需要main()。

#### 2.1.2 C++注释

C++注释以双斜杠（//）打头。

#### 2.1.3 C++预处理器和iostream文件

前文程序使用了#include编译指令。

#include <iostream>

该编译指令导致预处理器将iostream文件打的内容添加到程序中。iostream中的io指的是输入和输出。为了使用cout来显示消息，程序需要这些定义。

#### 2.1.4 头文件名

C语言的传统是，头文件使用扩展名h，但C++头文件则没有文件名。有些C头文件被转换为C++头文件，如math.h被转换为cmath。对于纯粹的C++头文件来说，去掉h不只是形式上的变化，没有h的头文件也可以包含名称空间。

| 头文件类型  |         约定          |    示例    |             说明             |
| :---------: | :-------------------: | :--------: | :--------------------------: |
| C++旧式风格 |       以.h结尾        | iostream.h |          C++可使用           |
|  C旧式风格  |       以.h结尾        |   math.c   |         C、C++可使用         |
| C++新式风格 |      没有扩展名       |  iostream  |   C++可使用，使用名称空间    |
|  转换后的C  | 加上前缀c，没有扩展名 |   cmath    | C++可使用，可使用不是C的特性 |

#### 2.1.5 名称空间

名称空间支持是一项C++特性，它让厂商能够将其产品封装在一个叫做名称空间的单元中，这样就可以用名称空间的名称来指出想使用哪个厂商的产品，例如Microflop::wanda()和Piscine::wanda()。

仅当头文件没有扩展名h时，类、函数和变量都被放置在名称空间std中。而using编译指令使得某个名称空间中的所有名称都可用。

#### 2.1.6 使用cout进行C++输出

1. 控制符endl

endl表示重起一行，在输出流中插入endl将导致屏幕光标移到下一行开头。

2. 换行符

C++还提供了另一种指示换行的旧式方法：\n。

#### 2.1.7 C++源代码的格式化

1. 源代码中的标记和空白

一行代码中不可分割的元素叫做标记，通常必须用空格、制表符或回车将两个标记分开，空格、制表符和回车统称为空白。

2. C++源代码风格

* 每条语句占一行。
* 每个函数都有一个开始花括号和一个结束花括号，这两个花括号各占一行。
* 函数中的语句都相对于花括号进行缩进。
* 与函数名称相关的圆括号周围没有空白。



### 2.2 C++语句

#### 2.2.1 声明语句和变量

```C++
int x;
```

#### 2.2.2 赋值语句

```C++
x = 25;
x = x - 1;
```

符号=叫做赋值运算符，可以连续使用。

```C++
x = y = z = 89;
```

赋值将从右向左进行。

#### 2.2.3 cout的新花样

```c++
cout << x;
```

cout的智能行为源自C++的面向对象特性。插入运算符<<将根据其后的数据类型相应地调整其行为，这是一个运算符重载的例子。



### 2.3 其他C++语句

#### 2.3.1 使用cin

```C++
cin >> x;
```

信息从cin流向x。cin是一个智能对象，可以将通过键盘输入的系列字符转换为接受信息的变量能够接受的形式。

#### 2.3.2 使用cout进行拼接

```
cout << "wzk has get " << score << " point. He tql!" << endl;
```



